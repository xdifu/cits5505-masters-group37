<!-- Introductory view template for the News Sentiment Analyzer application. -->
<!-- Explains the application's purpose and provides navigation for users. -->
{% extends "base.html" %}

{% block title %}Welcome - News Sentiment Analyzer{% endblock %}

{% block content %}
<div class="px-4 py-5 my-5 text-center">
    <!-- Main heading for the application -->
    <h1 class="display-5 fw-bold cyberpunk-title" data-text="News Sentiment Analyzer">News Sentiment Analyzer</h1>
    <div class="col-lg-8 mx-auto">
      <!-- Description of the application's functionality -->
      <p class="lead mb-4">
        Welcome to our cutting-edge platform that leverages advanced artificial intelligence to analyze the sentiment
        of news articles and text inputs. Discover whether the underlying tone is Positive, Neutral, or Negative with our state-of-the-art analysis.
      </p>
    </div>
</div>

<!-- Horizontal scroll gallery section - Fixed position while user scrolls -->
<section class="horizontal-scroll-section">
  <div class="horizontal-container">
    <div class="horizontal-content">
      <!-- Gallery Item 1 - Sentiment Dashboard -->
      <div class="horizontal-item">
        <div class="gallery-card">
          <h3>Sentiment Dashboard</h3>
          <img src="{{ url_for('static', filename='images/analysis_dashboard.jpg') }}" alt="Sentiment Dashboard">
          <p>Get comprehensive insights with our intuitive sentiment analysis dashboard.</p>
        </div>
      </div>
      
      <!-- Gallery Item 2 - Entity Recognition -->
      <div class="horizontal-item">
        <div class="gallery-card">
          <h3>Entity Recognition</h3>
          <img src="{{ url_for('static', filename='images/entity_recognition.jpg') }}" alt="Entity Recognition">
          <p>Identify key people, organizations, and locations in your content automatically.</p>
        </div>
      </div>
      
      <!-- Gallery Item 3 - Trend Analysis -->
      <div class="horizontal-item">
        <div class="gallery-card">
          <h3>Sentiment Trends</h3>
          <img src="{{ url_for('static', filename='images/sentiment_trends.jpg') }}" alt="Sentiment Trends">
          <p>Track sentiment changes over time with advanced trend visualization tools.</p>
        </div>
      </div>
      
      <!-- Gallery Item 4 - Topic Modeling -->
      <div class="horizontal-item">
        <div class="gallery-card">
          <h3>Topic Analysis</h3>
          <img src="{{ url_for('static', filename='images/topic_modeling.jpg') }}" alt="Topic Modeling">
          <p>Discover hidden themes and topics within your content through AI-powered analysis.</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Scroll indicator - Prompts users to scroll down -->
  <div class="scroll-indicator">
    <span>Scroll down to explore</span>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
      <path d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
    </svg>
  </div>
</section>

<!-- Spacer element to provide scrolling room for horizontal gallery -->
<div class="horizontal-scroll-spacer"></div>

<!-- Apple-style reveal animation sections -->
<div class="reveal-section">
  <!-- Key Features Section -->
  <div class="section-container feature-section reveal-element">
    <h2 class="section-title">Key Features</h2>
    <div class="feature-grid">
      <!-- Feature 1 - AI Analysis -->
      <div class="feature-card reveal-element" data-delay="100">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-lightning-charge-fill" viewBox="0 0 16 16">
            <path d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"/>
          </svg>
        </div>
        <h3>AI-Powered Analysis</h3>
        <p>Our advanced AI algorithms process text to identify sentiment with high accuracy and precision.</p>
      </div>
      
      <!-- Feature 2 - Visualization -->
      <div class="feature-card reveal-element" data-delay="200">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-graph-up" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M0 0h1v15h15v1H0V0Zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61 4.15-5.073a.5.5 0 0 1 .704-.07Z"/>
          </svg>
        </div>
        <h3>Interactive Visualizations</h3>
        <p>Transform complex data into intuitive charts and graphs for better understanding.</p>
      </div>
      
      <!-- Feature 3 - Sharing -->
      <div class="feature-card reveal-element" data-delay="300">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-share-fill" viewBox="0 0 16 16">
            <path d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"/>
          </svg>
        </div>
        <h3>Collaborative Sharing</h3>
        <p>Share analysis results with colleagues and explore insights shared by others.</p>
      </div>
      
      <!-- Feature 4 - Real-time -->
      <div class="feature-card reveal-element" data-delay="400">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-clock-history" viewBox="0 0 16 16">
            <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022l-.074.997zm2.004.45a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zm1.37.71a7.01 7.01 0 0 0-.439-.27l.493-.87a8.025 8.025 0 0 1 .979.654l-.615.789a6.996 6.996 0 0 0-.418-.302zm1.834 1.79a6.99 6.99 0 0 0-.653-.796l.724-.69c.27.285.52.59.747.91l-.818.576zm.744 1.352a7.08 7.08 0 0 0-.214-.468l.893-.45a7.976 7.976 0 0 1 .45 1.088l-.95.313a7.023 7.023 0 0 0-.179-.483zm.53 2.507a6.991 6.991 0 0 0-.1-1.025l.985-.17c.067.386.106.778.116 1.17l-1 .025zm-.131 1.538c.033-.17.06-.339.081-.51l.993.123a7.957 7.957 0 0 1-.23 1.155l-.964-.267c.046-.165.086-.332.12-.501zm-.952 2.379c.184-.29.346-.594.486-.908l.914.405c-.16.36-.345.706-.555 1.038l-.845-.535zm-.964 1.205c.122-.122.239-.248.35-.378l.758.653a8.073 8.073 0 0 1-.401.432l-.707-.707z"/>
            <path d="M8 1a7 7 0 1 0 4.95 11.95.5.5 0 0 1 .707.707A8 8 0 1 1 8 0a.5.5 0 0 1 .5.5v.5z"/>
            <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z"/>
          </svg>
        </div>
        <h3>Real-time Processing</h3>
        <p>Get instant analysis results without lengthy waiting times or delays.</p>
      </div>
    </div>
  </div>
  
  <!-- How It Works Section -->
  <div class="section-container how-it-works-section reveal-element" data-delay="500">
    <h2 class="section-title">How It Works</h2>
    <div class="steps-container">
      <!-- Step 1 -->
      <div class="step-card reveal-element" data-delay="600">
        <div class="step-number">1</div>
        <h3>Submit Your Content</h3>
        <p>Paste an article, news story, or any text for analysis into our secure platform.</p>
      </div>
      
      <!-- Step 2 -->
      <div class="step-card reveal-element" data-delay="700">
        <div class="step-number">2</div>
        <h3>AI Analysis Process</h3>
        <p>Our advanced algorithms analyze your content to determine sentiment and extract key insights.</p>
      </div>
      
      <!-- Step 3 -->
      <div class="step-card reveal-element" data-delay="800">
        <div class="step-number">3</div>
        <h3>Explore Results</h3>
        <p>View comprehensive analysis with interactive visualizations and detailed breakdowns.</p>
      </div>
      
      <!-- Step 4 -->
      <div class="step-card reveal-element" data-delay="900">
        <div class="step-number">4</div>
        <h3>Share Insights</h3>
        <p>Easily share your analysis with colleagues or save for future reference.</p>
      </div>
    </div>
  </div>
  
  <!-- Example Carousel Section -->
  <div class="section-container example-section reveal-element" data-delay="1000">
    <h2 class="section-title">See It In Action</h2>
    <div id="exampleCarousel" class="carousel slide reveal-element" data-delay="1100" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#exampleCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#exampleCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#exampleCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="{{ url_for('static', filename='images/ai_analysis.jpg') }}" class="d-block w-100" alt="AI Analysis Process">
          <div class="carousel-caption">
            <h3>AI-Powered Analysis</h3>
            <p>Advanced natural language processing identifies sentiment with high accuracy.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="{{ url_for('static', filename='images/data_visualization.jpg') }}" class="d-block w-100" alt="Data Visualization Dashboard">
          <div class="carousel-caption">
            <h3>Interactive Visualizations</h3>
            <p>Intuitive charts and graphs reveal insights at a glance.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="{{ url_for('static', filename='images/community_sharing.jpg') }}" class="d-block w-100" alt="Collaborative Sharing">
          <div class="carousel-caption">
            <h3>Collaborative Insights</h3>
            <p>Share your findings and discover what others are analyzing.</p>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#exampleCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#exampleCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
  
  <!-- Call to Action Section -->
  <div class="section-container cta-section reveal-element" data-delay="1200">
    <h2 class="section-title">Ready to Get Started?</h2>
    <p class="lead cta-description reveal-element" data-delay="1300">
      Join thousands of users who are already gaining valuable insights from their content.
    </p>
    
    <!-- Action buttons adapting to user authentication status -->
    <div class="cta-buttons reveal-element" data-delay="1400">
      {% if not current_user.is_authenticated %}
      <!-- Show Login and Register buttons for anonymous users -->
      <a href="{{ url_for('auth.login') }}" class="btn btn-primary btn-lg px-4 me-3">Login</a>
      <a href="{{ url_for('auth.register') }}" class="btn btn-outline-secondary btn-lg px-4">Register</a>
      {% else %}
      <!-- Show Analyze Text and View Results buttons for logged-in users -->
      <a href="{{ url_for('main.analyze') }}" class="btn btn-primary btn-lg px-4 me-3">Analyze Text</a>
      <a href="{{ url_for('main.results') }}" class="btn btn-outline-secondary btn-lg px-4">View My Results</a>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}

{% block styles %}
{{ super() }}
<style>
  /* Horizontal scroll section styles */
  .horizontal-scroll-section {
    position: sticky;
    top: 70px; /* Adjust based on your navbar height */
    height: 100vh;
    width: 100%;
    overflow: hidden;
    z-index: 1;
    background-color: var(--background-color);
  }

  .horizontal-container {
    position: relative;
    height: 100%;
    width: 100%;
    overflow: hidden;
  }

  .horizontal-content {
    position: absolute;
    height: 100%;
    display: flex;
    will-change: transform;
    transition: transform 0.1s ease-out;
  }

  .horizontal-item {
    height: 100%;
    width: 100vw;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
  }

  .gallery-card {
    width: 80%;
    max-width: 900px;
    background: var(--glass-bg);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: var(--glass-border);
    border-radius: var(--card-border-radius);
    box-shadow: var(--depth-shadow);
    padding: 2rem;
    text-align: center;
    transition: all 0.3s ease;
  }

  .gallery-card h3 {
    margin-bottom: 1.5rem;
    color: var(--primary-color);
    font-weight: 600;
  }

  .gallery-card img {
    width: 100%;
    max-height: 50vh;
    object-fit: cover;
    border-radius: 0.5rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  }

  .gallery-card p {
    font-size: 1.1rem;
    line-height: 1.6;
  }

  .horizontal-scroll-spacer {
    height: 100vh; /* Same height as the section */
  }

  .scroll-indicator {
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    color: var(--primary-color);
    animation: fadeInOut 2s ease-in-out infinite;
  }

  .scroll-indicator span {
    margin-bottom: 8px;
    font-weight: 500;
  }

  @keyframes fadeInOut {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
  }
</style>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const horizontalSection = document.querySelector('.horizontal-scroll-section');
    const horizontalContent = document.querySelector('.horizontal-content');
    const scrollSpacer = document.querySelector('.horizontal-scroll-spacer');
    const scrollIndicator = document.querySelector('.scroll-indicator');
    const items = document.querySelectorAll('.horizontal-item');
    
    // Total width of all items
    const totalWidth = items.length * window.innerWidth;
    horizontalContent.style.width = totalWidth + 'px';
    
    // The point where we want to start the horizontal scroll
    const startPoint = horizontalSection.offsetTop;
    
    // The point where we want to end the horizontal scroll
    const endPoint = startPoint + scrollSpacer.offsetHeight;
    
    // Update spacer height to match the total width needed for smooth scrolling
    scrollSpacer.style.height = window.innerHeight + 'px';
    
    // Function to update horizontal scroll position
    function updateScroll() {
      // Current scroll position
      const scrollPosition = window.pageYOffset;
      
      // Check if we're in the horizontal scroll section
      if (scrollPosition >= startPoint && scrollPosition <= endPoint) {
        // Calculate horizontal scroll amount (0 to totalWidth - window.innerWidth)
        const scrollPercentage = (scrollPosition - startPoint) / (endPoint - startPoint);
        const horizontalScroll = scrollPercentage * (totalWidth - window.innerWidth);
        
        // Apply the transform to move content horizontally
        horizontalContent.style.transform = `translateX(-${horizontalScroll}px)`;
        
        // Hide the scroll indicator once scrolling starts
        if (scrollPercentage > 0.05) {
          scrollIndicator.style.opacity = '0';
        } else {
          scrollIndicator.style.opacity = '1';
        }
      }
    }
    
    // Add scroll event listener
    window.addEventListener('scroll', updateScroll);
    
    // Initial update
    updateScroll();
    
    // Update on resize
    window.addEventListener('resize', function() {
      // Recalculate dimensions
      const totalWidth = items.length * window.innerWidth;
      horizontalContent.style.width = totalWidth + 'px';
      
      // Update spacer height
      scrollSpacer.style.height = window.innerHeight + 'px';
      
      // Update scroll position
      updateScroll();
    });
  });
</script>
{% endblock %}